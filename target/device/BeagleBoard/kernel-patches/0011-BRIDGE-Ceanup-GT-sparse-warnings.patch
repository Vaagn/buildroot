From 5cc37da2e45ccd71e5a55269fc79662654fcc673 Mon Sep 17 00:00:00 2001
From: Omar Ramirez Luna <x00omar@ti.com>
Date: Mon, 18 Aug 2008 12:16:30 +0300
Subject: [PATCH 11/43] BRIDGE: Ceanup GT sparse warnings

Signed-off-by: Omar Ramirez Luna <x00omar@ti.com>
Acked-by: Hari Kanigeri <h-kanigeri2@ti.com>
Signed-off-by: Hiroshi DOYU <Hiroshi.DOYU@nokia.com>
---
 arch/arm/plat-omap/include/bridge/dbc.h |    2 +-
 arch/arm/plat-omap/include/bridge/gt.h  |    2 +-
 drivers/dsp/bridge/gen/_gt_para.c       |    4 ++--
 drivers/dsp/bridge/gen/gt.c             |    8 ++++----
 drivers/dsp/bridge/services/dbg.c       |    2 +-
 5 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/arch/arm/plat-omap/include/bridge/dbc.h b/arch/arm/plat-omap/include/bridge/dbc.h
index bff5cb5..9b97342 100644
--- a/arch/arm/plat-omap/include/bridge/dbc.h
+++ b/arch/arm/plat-omap/include/bridge/dbc.h
@@ -50,7 +50,7 @@
 
 #define DBC_Assert(exp) \
     if (!(exp)) \
-	(*GT->ERRORFXN)("%s, line %d: Assertion (" #exp ") failed.\n", \
+	printk("%s, line %d: Assertion (" #exp ") failed.\n", \
 	__FILE__, __LINE__)
 #define DBC_Require DBC_Assert	/* Function Precondition.  */
 #define DBC_Ensure  DBC_Assert	/* Function Postcondition. */
diff --git a/arch/arm/plat-omap/include/bridge/gt.h b/arch/arm/plat-omap/include/bridge/gt.h
index 8f12ece..f4b7954 100644
--- a/arch/arm/plat-omap/include/bridge/gt.h
+++ b/arch/arm/plat-omap/include/bridge/gt.h
@@ -241,7 +241,7 @@ extern struct GT_Config _GT_params;
 
 #define GT_assert(mask, expr) \
 	(!(expr) ? \
-	    (*GT->ERRORFXN)("assertion violation: %s, line %d\n", \
+	    printk("assertion violation: %s, line %d\n", \
 			    __FILE__, __LINE__), NULL : NULL)
 
 #define GT_config(config)     (_GT_params = *(config))
diff --git a/drivers/dsp/bridge/gen/_gt_para.c b/drivers/dsp/bridge/gen/_gt_para.c
index 1685b3a..b64805d 100644
--- a/drivers/dsp/bridge/gen/_gt_para.c
+++ b/drivers/dsp/bridge/gen/_gt_para.c
@@ -89,8 +89,8 @@ static void error(char *fmt, ...)
 
 	va_end(va);
 
-	(*GT->PRINTFXN) ("ERROR: ");
-	(*GT->PRINTFXN) (fmt, arg1, arg2, arg3, arg4, arg5, arg6);
+	printk("ERROR: ");
+	printk(fmt, arg1, arg2, arg3, arg4, arg5, arg6);
 
 #if (defined DEBUG) || (defined DDSP_DEBUG_PRODUCT)
 	if (in_interrupt()) {
diff --git a/drivers/dsp/bridge/gen/gt.c b/drivers/dsp/bridge/gen/gt.c
index dfee97e..60f5ec1 100644
--- a/drivers/dsp/bridge/gen/gt.c
+++ b/drivers/dsp/bridge/gen/gt.c
@@ -238,14 +238,14 @@ s32 _GT_trace(struct GT_Mask *mask, char *format, ...)
 	va_end(va);
 #ifdef DEBUG
 	if (GT->PIDFXN == NULL) {
-		(*GT->PRINTFXN)(GT_1format, mask->modName, GT->TIDFXN ?
+		printk(GT_1format, mask->modName, GT->TIDFXN ?
 		(*GT->TIDFXN)() : 0);
 	} else {
-		(*GT->PRINTFXN)(GT_2format, mask->modName, (*GT->PIDFXN)(),
+		printk(GT_2format, mask->modName, (*GT->PIDFXN)(),
 		GT->TIDFXN ? (*GT->TIDFXN)() : 0);
 	}
 #endif
-	(*GT->PRINTFXN)(format, arg1, arg2, arg3, arg4, arg5, arg6);
+	printk(format, arg1, arg2, arg3, arg4, arg5, arg6);
 
 	return 0;
 }
@@ -257,7 +257,7 @@ s32 _GT_trace(struct GT_Mask *mask, char *format, ...)
  */
 static void error(char *string)
 {
-	(*GT->PRINTFXN)("GT: %s", string);
+	printk("GT: %s", string);
 }
 
 /*
diff --git a/drivers/dsp/bridge/services/dbg.c b/drivers/dsp/bridge/services/dbg.c
index b93f1de..e7b813b 100644
--- a/drivers/dsp/bridge/services/dbg.c
+++ b/drivers/dsp/bridge/services/dbg.c
@@ -101,7 +101,7 @@ DSP_STATUS DBG_Trace(u8 bLevel, char *pstrFormat, ...)
 	va_end(va);
 
 	if (bLevel & *(DBG_debugMask).flags)
-		(*GT->PRINTFXN)(pstrFormat, arg1, arg2, arg3, arg4, arg5, arg6);
+		printk(pstrFormat, arg1, arg2, arg3, arg4, arg5, arg6);
 
 	return DSP_SOK;
 }
-- 
1.6.0.3.613.g9f8f13

